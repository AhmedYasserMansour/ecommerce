import{r as x,u as b,c as $,j as e,f as g,V as y,w as P,d as w,C as H}from"./index-GO7BPj8W.js";import{H as M}from"./Heading-l9U_-8S5.js";import{L as O}from"./Loading-V-Ok1GtD.js";import{j as u,P as B}from"./ProductInfo-4Fq7qMB-.js";import"./Col-TQSzdsVT.js";import"./Row-bcx-6aBi.js";import"./CloseButton-M4GFmQ6w.js";import"./index-6F9jWL4p.js";const D=x.forwardRef(({bsPrefix:a,className:n,striped:r,bordered:c,borderless:d,hover:h,size:i,variant:s,responsive:o,...p},m)=>{const t=b(a,"table"),j=$(n,t,s&&`${t}-${s}`,i&&`${t}-${i}`,r&&`${t}-${typeof r=="string"?`striped-${r}`:"striped"}`,c&&`${t}-bordered`,d&&`${t}-borderless`,h&&`${t}-hover`),l=e.jsx("table",{...p,className:j,ref:m});if(o){let f=`${t}-responsive`;return typeof o=="string"&&(f=`${f}-${o}`),e.jsx("div",{className:f,children:l})}return l}),I=D,N=()=>{const a=g(),[n,r]=x.useState(!1),[c,d]=x.useState([]),h=m=>{const t=s.find(l=>l.subtotal===m),j=(t==null?void 0:t.items)??[];r(!0),d(l=>[...l,...j])},i=()=>{r(!1),d([])};x.useEffect(()=>(a(y()),()=>{a(P())}),[a]);const{orderList:s,loading:o,error:p}=w(m=>m.orders);return{orderList:s,loading:o,error:p,closeModalHandler:i,viewDetailsHandler:h,showModal:n,selectedProduct:c}},F=()=>{const{orderList:a,loading:n,error:r,closeModalHandler:c,viewDetailsHandler:d,showModal:h,selectedProduct:i}=N();return e.jsxs(e.Fragment,{children:[e.jsxs(u,{show:h,onHide:c,children:[e.jsx(u.Header,{closeButton:!0,children:e.jsx(u.Title,{children:"Products Details"})}),e.jsx(u.Body,{children:i.map(s=>e.jsx(B,{title:s.title,img:s.img,price:s.price,quantity:s.quantity,direction:"column",style:{marginBottom:"10px"}},s.id))})]}),e.jsxs(H,{className:"global pt-5",children:[e.jsx(M,{title:"My Order"}),e.jsx(O,{status:n,error:r,type:"table",children:e.jsxs(I,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Order Number"}),e.jsx("th",{children:"Items"}),e.jsx("th",{children:"Total Price"})]})}),e.jsx("tbody",{children:a.map((s,o)=>e.jsxs("tr",{children:[e.jsxs("td",{children:["#",o+1]}),e.jsxs("td",{children:[s.items.length," ",s.items.length>1?"Items":"Item"," / ",e.jsx("span",{onClick:()=>d(s.subtotal),style:{textDecoration:"underline",cursor:"pointer",color:"blue"},children:"Product Details"})]}),e.jsx("td",{children:s.subtotal.toFixed(2)})]},o))})]})})]})]})};export{F as default};
